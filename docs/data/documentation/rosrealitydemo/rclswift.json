{"metadata":{"roleHeading":"Article","role":"article","title":"RclSwift","modules":[{"name":"Master Thesis Showcase"}]},"sections":[],"identifier":{"url":"doc:\/\/RosRealityDemo\/documentation\/RosRealityDemo\/RclSwift","interfaceLanguage":"swift"},"abstract":[{"text":"ROS Bridge Client Library","type":"text"}],"seeAlsoSections":[{"generated":true,"identifiers":["doc:\/\/RosRealityDemo\/documentation\/RosRealityDemo\/RosRealityViewTemplate","doc:\/\/RosRealityDemo\/documentation\/RosRealityDemo\/RosRealityHelper","doc:\/\/RosRealityDemo\/documentation\/RosRealityDemo\/RosRealityViewer"]}],"primaryContentSections":[{"kind":"content","content":[{"text":"Overview","type":"heading","anchor":"Overview","level":2},{"type":"paragraph","inlineContent":[{"type":"text","text":"RclSwift works on top of the Network and Combine Frameworks to provide a websocket client library with APIs similar to rclpy."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"The library also takes care of data marshalling of ROS Interfaces with the help of RosDefProtocols. New ROS interfaces can be"},{"type":"text","text":" "},{"type":"text","text":"easily ported and maintained using the swift package manager."}]},{"text":"RosDefProtocols","type":"heading","anchor":"RosDefProtocols","level":2},{"type":"paragraph","inlineContent":[{"type":"text","text":"RosDefProtocols is the core package that provides the protocols necessary for data marshaling of ROS Messages, Services and Actions."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"In order to exchange data using ROS Bridge, all the topic, service and action op codes require interface type for deserializing on the"},{"type":"text","text":" "},{"type":"text","text":"ROS end. This functionality is required by all the packages and applications that wants to communicate with ROS using ROS Bridge. To make"},{"type":"text","text":" "},{"type":"text","text":"it portable and reusable, this package offers protocol definition for ROS messages, services and actions that can be used for conformance"},{"type":"text","text":" "},{"type":"text","text":"of generics. A brief overview of these protocols are discussed below."}]},{"text":"Ros.Message","type":"heading","anchor":"RosMessage","level":3},{"type":"paragraph","inlineContent":[{"type":"text","text":"The message definition is represented using a "},{"type":"codeVoice","code":"struct"},{"type":"text","text":" conforming to "},{"type":"codeVoice","code":"Ros.Message"},{"type":"text","text":". Conforming to this protocol, makes the struct serializable, along"},{"type":"text","text":" "},{"type":"text","text":"with the requirement to save the ROS message type in the static function "},{"type":"codeVoice","code":"defPath"},{"type":"text","text":"."}]},{"text":"Ros.Service","type":"heading","anchor":"RosService","level":3},{"type":"paragraph","inlineContent":[{"text":"The service definition is represented using a ","type":"text"},{"type":"codeVoice","code":"struct"},{"text":" conforming to ","type":"text"},{"type":"codeVoice","code":"Ros.Service"},{"text":". Conforming to this protocol, makes the struct serializable, along","type":"text"},{"text":" ","type":"text"},{"text":"with the requirement to save the ROS service type in the static function ","type":"text"},{"type":"codeVoice","code":"defPath"},{"text":". The request and response should be represented using codable","type":"text"},{"text":" ","type":"text"},{"text":"structs within the service struct.","type":"text"}]},{"text":"Ros.Action","type":"heading","anchor":"RosAction","level":3},{"inlineContent":[{"text":"The action definition is represented using a ","type":"text"},{"code":"struct","type":"codeVoice"},{"text":" conforming to ","type":"text"},{"code":"Ros.Action","type":"codeVoice"},{"text":". Conforming to this protocol, makes the struct serializable, along","type":"text"},{"text":" ","type":"text"},{"text":"with the requirement to save the ROS action type in the static function ","type":"text"},{"code":"defPath","type":"codeVoice"},{"text":". The goal request, feedback and result should be represented using","type":"text"},{"text":" ","type":"text"},{"text":"codable structs within the service struct.","type":"text"}],"type":"paragraph"},{"anchor":"RclSwift","level":2,"text":"RclSwift","type":"heading"},{"inlineContent":[{"text":"A ROS Bridge Client library offering rcl like APIs for creating ROS nodes using swift.","type":"text"}],"type":"paragraph"},{"anchor":"Overview","level":2,"text":"Overview","type":"heading"},{"inlineContent":[{"text":"The RclSwift library assists in creating ROS2 processes like publishers, subscriptions, aervice clients, service servers and action clients using the ","type":"text"},{"identifier":"https:\/\/github.com\/RobotWebTools\/rosbridge_suite\/blob\/d0c84f5734b103e299dc1f16ffcb3f0cbe990dc9\/ROSBRIDGE_PROTOCOL.md","type":"reference","isActive":true},{"text":" from ROS Bridge Suite v2.1.0.","type":"text"},{"text":" ","type":"text"},{"text":"It is built on top the  ","type":"text"},{"identifier":"https:\/\/developer.apple.com\/documentation\/network","type":"reference","isActive":true},{"text":" and ","type":"text"},{"identifier":"https:\/\/developer.apple.com\/documentation\/combine","type":"reference","isActive":true},{"text":" frameworks provided by Apple.","type":"text"}],"type":"paragraph"},{"inlineContent":[{"text":"The Network framework is responsible for the sending and receiving serialized data over a web socket connection to the ROS bridge server.","type":"text"},{"text":" ","type":"text"},{"text":"The Combine framework takes care sending the received Data to the necessary nodes. The data is deserialized at the nodes and represented as Swift Structs conforming","type":"text"},{"text":" ","type":"text"},{"text":"any on the protocols in ","type":"text"},{"inlineContent":[{"type":"text","text":"RosDefProtocols"}],"type":"strong"},{"text":".","type":"text"}],"type":"paragraph"},{"anchor":"ROS-Bridge-OP-Support-Status","level":3,"text":"ROS Bridge OP Support Status","type":"heading"},{"header":"row","rows":[[[{"inlineContent":[{"text":"Op Code","type":"text"}],"type":"paragraph"}],[{"type":"paragraph","inlineContent":[{"text":"Support Status","type":"text"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"fragment"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"Unavailable"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"png"}]}],[{"type":"paragraph","inlineContent":[{"text":"Unavailable","type":"text"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"set_status_level"}]}],[{"type":"paragraph","inlineContent":[{"text":"Unavailable","type":"text"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"advertise"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"Available"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"unadvertise"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"Available"}]}]],[[{"type":"paragraph","inlineContent":[{"text":"publish","type":"text"}]}],[{"type":"paragraph","inlineContent":[{"text":"Available","type":"text"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"subscribe"}]}],[{"type":"paragraph","inlineContent":[{"text":"Available","type":"text"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"unsubscribe"}]}],[{"type":"paragraph","inlineContent":[{"text":"Available","type":"text"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"advertise_service"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"Available"}]}]],[[{"type":"paragraph","inlineContent":[{"text":"unadvertise_service","type":"text"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"Available"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"call_service"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"Available"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"service_response"}]}],[{"type":"paragraph","inlineContent":[{"text":"Available","type":"text"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"advertise_action"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"Unavailable"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"unadvertise_action"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"Unavailable"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"send_action_goal"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"Available"}]}]],[[{"type":"paragraph","inlineContent":[{"text":"cancel_action_goal","type":"text"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"Available"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"action_feedback"}]}],[{"type":"paragraph","inlineContent":[{"text":"Available","type":"text"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"action_result"}]}],[{"type":"paragraph","inlineContent":[{"text":"Available","type":"text"}]}]]],"type":"table"},{"style":"note","name":"Important ","content":[{"type":"paragraph","inlineContent":[{"text":"All the field names are automatically converted from ","type":"text"},{"type":"emphasis","inlineContent":[{"text":"snake_case","type":"text"}]},{"text":" to ","type":"text"},{"type":"emphasis","inlineContent":[{"text":"camelCase","type":"text"}]},{"text":" and","type":"text"},{"text":" ","type":"text"},{"text":"will be converted to ","type":"text"},{"type":"emphasis","inlineContent":[{"type":"text","text":"snake_case"}]},{"text":", when the message is sent.","type":"text"}]}],"type":"aside"},{"style":"note","name":"Important ","content":[{"inlineContent":[{"type":"text","text":"If the message definition contains a field name as "},{"inlineContent":[{"text":"type","type":"text"}],"type":"emphasis"},{"type":"text","text":", this would be automatically converted to "},{"inlineContent":[{"inlineContent":[{"type":"text","text":"someprefix_Type"}],"type":"emphasis"}],"type":"emphasis"},{"type":"text","text":" as "},{"code":"type","type":"codeVoice"},{"type":"text","text":" is keyword."},{"type":"text","text":" "},{"type":"text","text":"This field would be automatically substituted with field name "},{"code":"type","type":"codeVoice"},{"type":"text","text":" when the message is sent."}],"type":"paragraph"}],"type":"aside"},{"anchor":"Supported-Functionalities","level":3,"text":"Supported Functionalities","type":"heading"},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"text":"RClSwift","type":"text"}]}]},{"content":[{"inlineContent":[{"type":"text","text":"Node"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Publisher"}]}]},{"content":[{"inlineContent":[{"type":"text","text":"Subscription"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"ServiceClient","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"ServiceServer","type":"text"}]}]},{"content":[{"inlineContent":[{"text":"ActionClient","type":"text"}],"type":"paragraph"}]}],"type":"unorderedList"}]}],"variants":[{"traits":[{"interfaceLanguage":"swift"}],"paths":["\/documentation\/rosrealitydemo\/rclswift"]}],"kind":"article","schemaVersion":{"major":0,"minor":3,"patch":0},"sampleCodeDownload":{"kind":"sampleDownload","action":{"isActive":true,"identifier":"https:\/\/igm-git.igm.rwth-aachen.de\/projekte\/apple-space\/modules\/rclswift","type":"reference","overridingTitle":"Visit"}},"hierarchy":{"paths":[["doc:\/\/RosRealityDemo\/documentation\/RosRealityDemo"]]},"references":{"https://developer.apple.com/documentation/combine":{"title":"Combine","url":"https:\/\/developer.apple.com\/documentation\/combine","titleInlineContent":[{"text":"Combine","type":"text"}],"type":"link","identifier":"https:\/\/developer.apple.com\/documentation\/combine"},"doc://RosRealityDemo/documentation/RosRealityDemo":{"role":"collection","identifier":"doc:\/\/RosRealityDemo\/documentation\/RosRealityDemo","type":"topic","url":"\/documentation\/rosrealitydemo","abstract":[{"text":"This pages documents certain insights gained while working on my master thesis - A modular framework for building AR Applications on Apple XR Devices interacting with ROS-based Robots.","type":"text"}],"kind":"symbol","title":"Master Thesis Showcase"},"doc://RosRealityDemo/documentation/RosRealityDemo/RosRealityViewer":{"role":"article","abstract":[{"text":"Apple Vision Pro Application, which can interact with the ROS network and display interactable ROS Entities and Visualization.","type":"text"}],"identifier":"doc:\/\/RosRealityDemo\/documentation\/RosRealityDemo\/RosRealityViewer","type":"topic","kind":"article","url":"\/documentation\/rosrealitydemo\/rosrealityviewer","title":"RosRealityViewer"},"https://github.com/RobotWebTools/rosbridge_suite/blob/d0c84f5734b103e299dc1f16ffcb3f0cbe990dc9/ROSBRIDGE_PROTOCOL.md":{"title":"ROS Bridge Specification","url":"https:\/\/github.com\/RobotWebTools\/rosbridge_suite\/blob\/d0c84f5734b103e299dc1f16ffcb3f0cbe990dc9\/ROSBRIDGE_PROTOCOL.md","titleInlineContent":[{"text":"ROS Bridge Specification","type":"text"}],"type":"link","identifier":"https:\/\/github.com\/RobotWebTools\/rosbridge_suite\/blob\/d0c84f5734b103e299dc1f16ffcb3f0cbe990dc9\/ROSBRIDGE_PROTOCOL.md"},"https://igm-git.igm.rwth-aachen.de/projekte/apple-space/modules/rclswift":{"url":"https:\/\/igm-git.igm.rwth-aachen.de\/projekte\/apple-space\/modules\/rclswift","type":"download","checksum":null,"identifier":"https:\/\/igm-git.igm.rwth-aachen.de\/projekte\/apple-space\/modules\/rclswift"},"doc://RosRealityDemo/documentation/RosRealityDemo/RosRealityViewTemplate":{"role":"article","url":"\/documentation\/rosrealitydemo\/rosrealityviewtemplate","identifier":"doc:\/\/RosRealityDemo\/documentation\/RosRealityDemo\/RosRealityViewTemplate","type":"topic","abstract":[{"text":"A 3D Asset catalog for ROS programms","type":"text"}],"title":"RosRealityViewTemplate","kind":"article"},"https://developer.apple.com/documentation/network":{"title":"Network","url":"https:\/\/developer.apple.com\/documentation\/network","titleInlineContent":[{"text":"Network","type":"text"}],"type":"link","identifier":"https:\/\/developer.apple.com\/documentation\/network"},"doc://RosRealityDemo/documentation/RosRealityDemo/RosRealityHelper":{"type":"topic","role":"article","url":"\/documentation\/rosrealitydemo\/rosrealityhelper","abstract":[{"type":"text","text":"ROS Robot Description Converter"}],"title":"RosRealityHelper","kind":"article","identifier":"doc:\/\/RosRealityDemo\/documentation\/RosRealityDemo\/RosRealityHelper"}}}